{% extends 'base.html' %}
{% load static %}

<!-- login.html loaded -->

{% block title %}Login{% endblock %}
{% block content %}
  <div class="login-container">
    <div class="section-card login-card">
      <h2><i class="fas fa-sign-in-alt"></i> Log In</h2>
      <p>Access your FruitID CNN account to identify fruits with AI!</p>
      
      <form id="loginForm" method="POST" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="username"><i class="fas fa-user"></i> Username</label>
          <input type="text" id="loginid" name="loginid" placeholder="Enter your login ID" required>
        </div>
        <div class="form-group">
          <label for="password"><i class="fas fa-lock"></i> Password</label>
          <input type="password" id="pswd" name="pswd" placeholder="Enter your password" required>
        </div>
        <button type="submit" class="submit-btn">
          <i class="fas fa-sign-in-alt"></i> Log In
        </button>
        <p class="register-link">
          Need an account? <a href="{% url 'register' %}">Register here</a>
        </p>
        {% if messages %}
          <div class="error-container">
            {% for message in messages %}
              <p class="error-message {{ message.tags }}">{{ message }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </form>
    </div>
  </div>

  <style>
    .login-container {
      max-width: 700px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .login-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 3.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 600px;
    }

    .login-card.dark-mode {
      background: rgba(45, 52, 54, 0.95);
    }

    .login-card h2 {
      font-size: 3rem;
      color: #FF5E62;
      margin-bottom: 1.2rem;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-weight: 700;
      text-align: center;
    }

    .login-card.dark-mode h2 {
      color: #40C4FF;
    }

    .login-card p {
      font-size: 1.4rem;
      color: #1A1A1A;
      margin-bottom: 2rem;
      text-align: center;
    }

    .login-card.dark-mode p {
      color: #E0E0E0;
    }

    .form-group {
      margin-bottom: 2rem;
    }

    .form-group label {
      font-size: 1.3rem;
      font-weight: 600;
      color: #1A1A1A;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.6rem;
    }

    .form-group.dark-mode label {
      color: #E0E0E0;
    }

    .form-group input {
      width: 100%;
      padding: 1rem;
      font-size: 1.2rem;
      border: 2px solid #FF5E62;
      border-radius: 10px;
      outline: none;
      background: #FFF7E6;
      color: #1A1A1A;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .form-group.dark-mode input {
      background: #3C4F5C;
      color: #E0E0E0;
      border-color: #40C4FF;
    }

    .form-group input:focus {
      border-color: #FEA47F;
      box-shadow: 0 0 10px rgba(255, 94, 98, 0.3);
    }

    .form-group.dark-mode input:focus {
      border-color: #80D8FF;
      box-shadow: 0 0 10px rgba(64, 196, 255, 0.3);
    }

    .form-group input::placeholder {
      color: #999;
    }

    .submit-btn {
      width: 100%;
      padding: 1.2rem;
      font-size: 1.4rem;
      font-weight: 600;
      color: #FFFFFF;
      background: linear-gradient(135deg, #FF5E62, #FEA47F);
      border: none;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: background 0.4s ease, transform 0.4s ease;
    }

    .submit-btn:hover {
      background: linear-gradient(135deg, #FEA47F, #FF5E62);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(255, 94, 98, 0.4);
    }

    .submit-btn.dark-mode {
      background: linear-gradient(135deg, #2C3E50, #4B6584);
    }

    .submit-btn.dark-mode:hover {
      background: linear-gradient(135deg, #4B6584, #2C3E50);
      box-shadow: 0 6px 15px rgba(64, 196, 255, 0.4);
    }

    .error-container {
      margin-bottom: 2rem;
    }

    .error-message {
      color: #FF5E62;
      font-size: 1.1rem;
      padding: 0.5rem 1rem;
      background: #FFF0E6;
      border-radius: 5px;
      text-align: center;
    }

    .dark-mode .error-message {
      background: #3C4F5C;
      color: #FF8A80;
    }

    .register-link {
      text-align: center;
      margin-top: 2rem;
      font-size: 1.3rem;
      color: #1A1A1A;
    }

    .dark-mode .register-link {
      color: #E0E0E0;
    }

    .register-link a {
      color: #FF5E62;
      text-decoration: none;
      font-weight: 600;
    }

    .register-link a:hover {
      color: #FEA47F;
      text-decoration: underline;
    }

    .dark-mode .register-link a {
      color: #40C4FF;
    }

    .dark-mode .register-link a:hover {
      color: #80D8FF;
    }

    @media (max-width: 768px) {
      .login-container {
        padding: 15px;
      }

      .login-card {
        padding: 2.5rem;
      }

      .login-card h2 {
        font-size: 2.5rem;
      }

      .login-card p {
        font-size: 1.2rem;
      }

      .form-group label {
        font-size: 1.2rem;
      }

      .form-group input {
        padding: 0.9rem;
        font-size: 1.1rem;
      }

      .submit-btn {
        padding: 1rem;
        font-size: 1.3rem;
      }

      .register-link {
        font-size: 1.2rem;
      }
    }

    @media (max-width: 480px) {
      .login-card {
        padding: 2rem;
      }

      .login-card h2 {
        font-size: 2rem;
      }

      .login-card p {
        font-size: 1.1rem;
      }

      .form-group input {
        padding: 0.8rem;
        font-size: 1rem;
      }

      .submit-btn {
        padding: 0.9rem;
        font-size: 1.2rem;
      }
    }
  </style>

  <script>
    // document.addEventListener('DOMContentLoaded', () => {
    //   gsap.from('.login-card', { opacity: 0, y: 50, duration: 1, ease: 'power3.out' });
    //   gsap.from('.form-group', { opacity: 0, y: 20, stagger: 0.2, duration: 0.8, delay: 0.5 });
    //   gsap.from('.submit-btn', { opacity: 0, scale: 0.9, duration: 0.8, delay: 1 });
    // });
  </script>
{% endblock %}